<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>mini vue3</title>
  <style>
    #red {
      color: red;
    }

    #green {
      color: green;
    }
  </style>
</head>

<body>
  <div id="app"></div>

  <script src="./MiniVue3.js"></script>
  <!-- <script>
    const app = document.getElementById('app');

    // reactive data
    const count = new Dep(0);

    // watchEffect(effect);
    watchEffect(() => {
      app.textContent = count.value;
      console.log(count.value);
    })  // 0

    // change data
    count.value = 1;  // 1
  </script> -->

  <script>
    // function createApp(app) {
    //   return {
    //     mount(container) {
    //       mount(app.setup(), container)
    //     }
    //   }
    // }
  </script>

  <script>
    const state1 = reactive({
      count1: 0,
      msg: 'hello'
    });

    const state2 = reactive({
      count2: 0,
      msg: 'nihao'
    });

    // watchEffect(() => {
    //   console.log('[count1]', state1.count1);
    //   console.log('[count2]', state2.count2);
    // });

    // state1.count1 = 1;
    // state2.count2 = 2;

    watchEffect(() => {
      console.log('[state1.msg]', state1.msg);
      console.log('[state2.msg]', state2.msg);
    });

    state2.msg = 'world'



    // const vDom = h('div', 'Hello');
    // mount(vDom, '#app');

    // const App = createApp({
    //   // data() {
    //   //   return {
    //   //     count: 0
    //   //   }
    //   // },
    //   setup() {
    //     const state = reactive({
    //       count: 0
    //     });
    //     return h('button', {
    //       onClick() {
    //         console.log(state.count);
    //         state.count++;
    //       }
    //     }, '+1')
    //   }
    // });

    // App.mount('#app');
  </script>
</body>

</html>